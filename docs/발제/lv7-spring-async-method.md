# 🧵 Lv.7 - Spring의 비동기 처리: @Async

---

## ✅ 학습 목표

- Spring의 `@Async` 애노테이션을 통해 **비동기 서비스 실행** 방식을 익힌다.
- `@EnableAsync`를 통해 스프링 애플리케이션에서 **비동기 기능을 활성화**한다.
- 비동기 메서드의 리턴값을 `Future`, `CompletableFuture` 등으로 받아올 수 있다는 것을 이해한다.

---

## 🤔 왜 이걸 배워야 할까?

스프링에서 대기 시간이 긴 작업(알림 전송, 메일 발송, 외부 API 호출 등)은  
**동기식으로 처리하면 전체 응답이 지연되기 때문에**,  
백그라운드로 비동기 처리하는 게 일반적이다.

> ✅ 이때 사용하는 대표적인 방법이 `@Async`.

Java의 쓰레드나 ExecutorService로 직접 처리하지 않아도,  
스프링이 알아서 쓰레드풀을 관리해주고 비동기로 처리하게 해준다.

---

## 📌 과제 요구사항

1. `@Async` 메서드를 포함한 `NotificationService` 클래스를 생성하라
2. 컨트롤러에서 `/notify` API를 호출하면, 로그를 찍고 비동기 작업이 실행되도록 하라
3. 비동기 메서드는 1초 sleep 후 `"전송 완료"` 메시지를 리턴하게 하고,
   결과는 `CompletableFuture<String>`으로 감싸서 응답하라
4. `@EnableAsync`를 통해 비동기 기능을 활성화하라

---

## ✨ 보너스 미션 (선택)

- 메서드에 걸린 `@Async`가 다른 Bean 내부에서 호출될 때 동작하지 않는 이유를 찾아보기 (자기 호출 한계)
- 스레드풀 설정을 커스터마이징해서 `@Async`의 동작을 튜닝해보기

---

## 📚 참고 개념 키워드

- `@Async`, `@EnableAsync`
- `CompletableFuture`
- 비동기 처리 흐름
- Spring TaskExecutor 기본 설정

---

## 💬 예상 질문 (생각 정리용)

- 왜 `@Async`가 같은 클래스 내부 호출에서는 안 될까
